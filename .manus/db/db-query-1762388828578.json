{
  "query": "CREATE TABLE IF NOT EXISTS `orders` (\n\t`id` varchar(64) NOT NULL,\n\t`userId` varchar(64) NOT NULL,\n\t`stripeSessionId` varchar(255),\n\t`stripePaymentIntentId` varchar(255),\n\t`status` enum('pending','completed','failed','refunded') NOT NULL DEFAULT 'pending',\n\t`amount` int NOT NULL,\n\t`currency` varchar(3) NOT NULL DEFAULT 'usd',\n\t`productType` enum('credits','subscription') NOT NULL,\n\t`creditsAmount` int,\n\t`subscriptionPlan` varchar(64),\n\t`customerEmail` varchar(320),\n\t`customerName` varchar(255),\n\t`metadata` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`completedAt` timestamp,\n\tCONSTRAINT `orders_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `orders_stripeSessionId_unique` UNIQUE(`stripeSessionId`)\n);\n\nCREATE TABLE IF NOT EXISTS `subscriptions` (\n\t`id` varchar(64) NOT NULL,\n\t`userId` varchar(64) NOT NULL,\n\t`stripeSubscriptionId` varchar(255),\n\t`stripeCustomerId` varchar(255),\n\t`plan` varchar(64) NOT NULL,\n\t`status` enum('active','canceled','past_due','unpaid') NOT NULL DEFAULT 'active',\n\t`currentPeriodStart` timestamp,\n\t`currentPeriodEnd` timestamp,\n\t`cancelAtPeriodEnd` int NOT NULL DEFAULT 0,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `subscriptions_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `subscriptions_stripeSubscriptionId_unique` UNIQUE(`stripeSubscriptionId`)\n);\n\nALTER TABLE `users` ADD COLUMN IF NOT EXISTS `credits` int DEFAULT 0 NOT NULL;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 4PQbAAV1fA3eoWB.fdce1f6ecee0 --database kXt5Pe9fvJxeXguVEaNamo --execute CREATE TABLE IF NOT EXISTS `orders` (\n\t`id` varchar(64) NOT NULL,\n\t`userId` varchar(64) NOT NULL,\n\t`stripeSessionId` varchar(255),\n\t`stripePaymentIntentId` varchar(255),\n\t`status` enum('pending','completed','failed','refunded') NOT NULL DEFAULT 'pending',\n\t`amount` int NOT NULL,\n\t`currency` varchar(3) NOT NULL DEFAULT 'usd',\n\t`productType` enum('credits','subscription') NOT NULL,\n\t`creditsAmount` int,\n\t`subscriptionPlan` varchar(64),\n\t`customerEmail` varchar(320),\n\t`customerName` varchar(255),\n\t`metadata` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`completedAt` timestamp,\n\tCONSTRAINT `orders_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `orders_stripeSessionId_unique` UNIQUE(`stripeSessionId`)\n);\n\nCREATE TABLE IF NOT EXISTS `subscriptions` (\n\t`id` varchar(64) NOT NULL,\n\t`userId` varchar(64) NOT NULL,\n\t`stripeSubscriptionId` varchar(255),\n\t`stripeCustomerId` varchar(255),\n\t`plan` varchar(64) NOT NULL,\n\t`status` enum('active','canceled','past_due','unpaid') NOT NULL DEFAULT 'active',\n\t`currentPeriodStart` timestamp,\n\t`currentPeriodEnd` timestamp,\n\t`cancelAtPeriodEnd` int NOT NULL DEFAULT 0,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `subscriptions_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `subscriptions_stripeSubscriptionId_unique` UNIQUE(`stripeSubscriptionId`)\n);\n\nALTER TABLE `users` ADD COLUMN IF NOT EXISTS `credits` int DEFAULT 0 NOT NULL;",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 1779
}